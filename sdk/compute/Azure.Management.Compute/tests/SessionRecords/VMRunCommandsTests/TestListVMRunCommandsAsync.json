{
  "Entries": [
    {
      "RequestUri": "https://management.azure.com/subscriptions/c9cbd920-c00c-427c-852b-8aaf38badaeb/providers/Microsoft.Compute/locations/southeastasia/runCommands?api-version=2019-12-01",
      "RequestMethod": "GET",
      "RequestHeaders": {
        "Authorization": "Sanitized",
        "User-Agent": [
          "azsdk-net-Management.Compute/1.0.0-dev.20200605.1",
          "(.NET Core 4.6.28619.01; Microsoft Windows 10.0.19041 )"
        ],
        "x-ms-client-request-id": "b812918dab8e0c4a494072aa5a545707",
        "x-ms-return-client-request-id": "true"
      },
      "RequestBody": null,
      "StatusCode": 200,
      "ResponseHeaders": {
        "Cache-Control": "no-cache",
        "Content-Length": "5725",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Fri, 05 Jun 2020 12:47:54 GMT",
        "Expires": "-1",
        "Pragma": "no-cache",
        "Server": [
          "Microsoft-HTTPAPI/2.0",
          "Microsoft-HTTPAPI/2.0"
        ],
        "Strict-Transport-Security": "max-age=31536000; includeSubDomains",
        "X-Content-Type-Options": "nosniff",
        "x-ms-client-request-id": "b812918dab8e0c4a494072aa5a545707",
        "x-ms-correlation-request-id": "1becea1c-699b-4bc3-994f-d9a706c20dc1",
        "x-ms-ratelimit-remaining-resource": "Microsoft.Compute/GetSubscriptionInfo3Min;357",
        "x-ms-ratelimit-remaining-subscription-reads": "7674",
        "x-ms-request-id": "8491cce8-ed7f-4b4b-8004-9c95659a37e1",
        "x-ms-routing-request-id": "SOUTHEASTASIA:20200605T124754Z:1becea1c-699b-4bc3-994f-d9a706c20dc1"
      },
      "ResponseBody": [
        "{\r\n",
        "  \u0022value\u0022: [\r\n",
        "    {\r\n",
        "      \u0022$schema\u0022: \u0022http://schema.management.azure.com/schemas/2016-11-17/runcommands.json\u0022,\r\n",
        "      \u0022id\u0022: \u0022EnableRemotePS\u0022,\r\n",
        "      \u0022osType\u0022: \u0022Windows\u0022,\r\n",
        "      \u0022label\u0022: \u0022Enable remote PowerShell\u0022,\r\n",
        "      \u0022description\u0022: \u0022Configure the machine to enable remote PowerShell.\u0022\r\n",
        "    },\r\n",
        "    {\r\n",
        "      \u0022$schema\u0022: \u0022http://schema.management.azure.com/schemas/2016-11-17/runcommands.json\u0022,\r\n",
        "      \u0022id\u0022: \u0022IPConfig\u0022,\r\n",
        "      \u0022osType\u0022: \u0022Windows\u0022,\r\n",
        "      \u0022label\u0022: \u0022List IP configuration\u0022,\r\n",
        "      \u0022description\u0022: \u0022Shows detailed information for the IP address, subnet mask and default gateway for each adapter bound to TCP/IP.\u0022\r\n",
        "    },\r\n",
        "    {\r\n",
        "      \u0022$schema\u0022: \u0022http://schema.management.azure.com/schemas/2016-11-17/runcommands.json\u0022,\r\n",
        "      \u0022id\u0022: \u0022RunPowerShellScript\u0022,\r\n",
        "      \u0022osType\u0022: \u0022Windows\u0022,\r\n",
        "      \u0022label\u0022: \u0022Executes a PowerShell script\u0022,\r\n",
        "      \u0022description\u0022: \u0022Custom multiline PowerShell script should be defined in script property. Optional parameters can be set in parameters property.\u0022\r\n",
        "    },\r\n",
        "    {\r\n",
        "      \u0022$schema\u0022: \u0022http://schema.management.azure.com/schemas/2016-11-17/runcommands.json\u0022,\r\n",
        "      \u0022id\u0022: \u0022RunShellScript\u0022,\r\n",
        "      \u0022osType\u0022: \u0022Linux\u0022,\r\n",
        "      \u0022label\u0022: \u0022Executes a Linux shell script\u0022,\r\n",
        "      \u0022description\u0022: \u0022Custom multiline shell script should be defined in script property. Optional parameters can be set in parameters property.\u0022\r\n",
        "    },\r\n",
        "    {\r\n",
        "      \u0022$schema\u0022: \u0022http://schema.management.azure.com/schemas/2016-11-17/runcommands.json\u0022,\r\n",
        "      \u0022id\u0022: \u0022ifconfig\u0022,\r\n",
        "      \u0022osType\u0022: \u0022Linux\u0022,\r\n",
        "      \u0022label\u0022: \u0022List network configuration\u0022,\r\n",
        "      \u0022description\u0022: \u0022Get the configuration of all network interfaces.\u0022\r\n",
        "    },\r\n",
        "    {\r\n",
        "      \u0022$schema\u0022: \u0022http://schema.management.azure.com/schemas/2016-11-17/runcommands.json\u0022,\r\n",
        "      \u0022id\u0022: \u0022EnableAdminAccount\u0022,\r\n",
        "      \u0022osType\u0022: \u0022Windows\u0022,\r\n",
        "      \u0022label\u0022: \u0022Enable administrator account\u0022,\r\n",
        "      \u0022description\u0022: \u0022Checks if the local Administrator account is disabled, and if so enables it.\u0022\r\n",
        "    },\r\n",
        "    {\r\n",
        "      \u0022$schema\u0022: \u0022http://schema.management.azure.com/schemas/2016-11-17/runcommands.json\u0022,\r\n",
        "      \u0022id\u0022: \u0022RDPSettings\u0022,\r\n",
        "      \u0022osType\u0022: \u0022Windows\u0022,\r\n",
        "      \u0022label\u0022: \u0022Verify RDP Listener Settings\u0022,\r\n",
        "      \u0022description\u0022: \u0022Checks registry settings and domain policy settings. Suggests policy actions if machine is part of a domain or modifies the settings to default values.\u0022\r\n",
        "    },\r\n",
        "    {\r\n",
        "      \u0022$schema\u0022: \u0022http://schema.management.azure.com/schemas/2016-11-17/runcommands.json\u0022,\r\n",
        "      \u0022id\u0022: \u0022SetRDPPort\u0022,\r\n",
        "      \u0022osType\u0022: \u0022Windows\u0022,\r\n",
        "      \u0022label\u0022: \u0022Set Remote Desktop port\u0022,\r\n",
        "      \u0022description\u0022: \u0022Sets the default or user specified port number for Remote Desktop connections. Enables firewall rule for inbound access to the port.\u0022\r\n",
        "    },\r\n",
        "    {\r\n",
        "      \u0022$schema\u0022: \u0022http://schema.management.azure.com/schemas/2016-11-17/runcommands.json\u0022,\r\n",
        "      \u0022id\u0022: \u0022ResetRDPCert\u0022,\r\n",
        "      \u0022osType\u0022: \u0022Windows\u0022,\r\n",
        "      \u0022label\u0022: \u0022Restore RDP Authentication mode to defaults\u0022,\r\n",
        "      \u0022description\u0022: \u0022Removes the SSL certificate tied to the RDP listener and restores the RDP listener security to default. Use this script if you see any issues with the certificate.\u0022\r\n",
        "    },\r\n",
        "    {\r\n",
        "      \u0022$schema\u0022: \u0022http://schema.management.azure.com/schemas/2016-11-17/runcommands.json\u0022,\r\n",
        "      \u0022id\u0022: \u0022DisableNLA\u0022,\r\n",
        "      \u0022osType\u0022: \u0022Windows\u0022,\r\n",
        "      \u0022label\u0022: \u0022Disable Network Level Authentication\u0022,\r\n",
        "      \u0022description\u0022: \u0022Disables Network Level Authentication (NLA). You must restart the VM after the script completes for the change to take effect. The script itself does not restart the VM. You can use this script to disable NLA if RDP connections are failing with error \u0027The remote computer that you are trying to connect to requires Network Level Authentication (NLA), but your Windows domain controller cannot be contacted to perform NLA.\u0027 or error \u0027An authentication error has occurred. The Local Security Authority cannot be contacted.\u0027 NLA is a security feature that should only be disabled temporarily to allow RDP connections to succeed until the domain controller connectivity issue has been resolved.\u0022\r\n",
        "    },\r\n",
        "    {\r\n",
        "      \u0022$schema\u0022: \u0022http://schema.management.azure.com/schemas/2016-11-17/runcommands.json\u0022,\r\n",
        "      \u0022id\u0022: \u0022RemoveRunCommandWindowsExtension\u0022,\r\n",
        "      \u0022osType\u0022: \u0022Windows\u0022,\r\n",
        "      \u0022label\u0022: \u0022Removes the internal RunCommandWindows extension\u0022,\r\n",
        "      \u0022description\u0022: \u0022Removes RunCommandWindows extension deployed to execute previous RunCommand operations.\u0022\r\n",
        "    },\r\n",
        "    {\r\n",
        "      \u0022$schema\u0022: \u0022http://schema.management.azure.com/schemas/2016-11-17/runcommands.json\u0022,\r\n",
        "      \u0022id\u0022: \u0022RemoveRunCommandLinuxExtension\u0022,\r\n",
        "      \u0022osType\u0022: \u0022Linux\u0022,\r\n",
        "      \u0022label\u0022: \u0022Removes the internal RunCommandLinux extension\u0022,\r\n",
        "      \u0022description\u0022: \u0022Removes RunCommandLinux extension deployed to execute previous RunCommand operations.\u0022\r\n",
        "    },\r\n",
        "    {\r\n",
        "      \u0022$schema\u0022: \u0022http://schema.management.azure.com/schemas/2016-11-17/runcommands.json\u0022,\r\n",
        "      \u0022id\u0022: \u0022EnableEMS\u0022,\r\n",
        "      \u0022osType\u0022: \u0022Windows\u0022,\r\n",
        "      \u0022label\u0022: \u0022Enable EMS\u0022,\r\n",
        "      \u0022description\u0022: \u0022Enable Emergency Management Services (EMS) to allow for serial console connection in troubleshooting scenarios.\u0022\r\n",
        "    },\r\n",
        "    {\r\n",
        "      \u0022$schema\u0022: \u0022http://schema.management.azure.com/schemas/2016-11-17/runcommands.json\u0022,\r\n",
        "      \u0022id\u0022: \u0022DisableWindowsUpdate\u0022,\r\n",
        "      \u0022osType\u0022: \u0022Windows\u0022,\r\n",
        "      \u0022label\u0022: \u0022Disable Windows Update Automatic Updates\u0022,\r\n",
        "      \u0022description\u0022: \u0022Disable Automatic Updates through Windows Update.\u0022\r\n",
        "    },\r\n",
        "    {\r\n",
        "      \u0022$schema\u0022: \u0022http://schema.management.azure.com/schemas/2016-11-17/runcommands.json\u0022,\r\n",
        "      \u0022id\u0022: \u0022EnableWindowsUpdate\u0022,\r\n",
        "      \u0022osType\u0022: \u0022Windows\u0022,\r\n",
        "      \u0022label\u0022: \u0022Enable Windows Update Automatic Updates\u0022,\r\n",
        "      \u0022description\u0022: \u0022Enable Automatic Updates through Windows Update.\u0022\r\n",
        "    }\r\n",
        "  ]\r\n",
        "}"
      ]
    },
    {
      "RequestUri": "https://management.azure.com/subscriptions/c9cbd920-c00c-427c-852b-8aaf38badaeb/providers/Microsoft.Compute/locations/southeastasia/runCommands/RunPowerShellScript?api-version=2019-12-01",
      "RequestMethod": "GET",
      "RequestHeaders": {
        "Authorization": "Sanitized",
        "traceparent": "00-600ac221d3bf944591a9c201db35e9fe-c98c061fa6337642-00",
        "User-Agent": [
          "azsdk-net-Management.Compute/1.0.0-dev.20200605.1",
          "(.NET Core 4.6.28619.01; Microsoft Windows 10.0.19041 )"
        ],
        "x-ms-client-request-id": "2d50169af1fe476615dbf05a2678d046",
        "x-ms-return-client-request-id": "true"
      },
      "RequestBody": null,
      "StatusCode": 200,
      "ResponseHeaders": {
        "Cache-Control": "no-cache",
        "Content-Length": "709",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Fri, 05 Jun 2020 12:47:54 GMT",
        "Expires": "-1",
        "Pragma": "no-cache",
        "Server": [
          "Microsoft-HTTPAPI/2.0",
          "Microsoft-HTTPAPI/2.0"
        ],
        "Strict-Transport-Security": "max-age=31536000; includeSubDomains",
        "X-Content-Type-Options": "nosniff",
        "x-ms-client-request-id": "2d50169af1fe476615dbf05a2678d046",
        "x-ms-correlation-request-id": "015d7c8e-20fb-49b1-bf4c-1679c2c23a82",
        "x-ms-ratelimit-remaining-resource": "Microsoft.Compute/GetSubscriptionInfo3Min;356",
        "x-ms-ratelimit-remaining-subscription-reads": "7673",
        "x-ms-request-id": "78e33037-1dc9-41cf-af78-24a5705411b7",
        "x-ms-routing-request-id": "SOUTHEASTASIA:20200605T124754Z:015d7c8e-20fb-49b1-bf4c-1679c2c23a82"
      },
      "ResponseBody": [
        "{\r\n",
        "  \u0022script\u0022: [\r\n",
        "    \u0022param(\u0022,\r\n",
        "    \u0022    [string]$arg1,\u0022,\r\n",
        "    \u0022    [string]$arg2\u0022,\r\n",
        "    \u0022)\u0022,\r\n",
        "    \u0022Write-Host This is a sample script with parameters $arg1 $arg2\u0022\r\n",
        "  ],\r\n",
        "  \u0022parameters\u0022: [\r\n",
        "    {\r\n",
        "      \u0022name\u0022: \u0022arg1\u0022,\r\n",
        "      \u0022type\u0022: \u0022string\u0022,\r\n",
        "      \u0022required\u0022: false\r\n",
        "    },\r\n",
        "    {\r\n",
        "      \u0022name\u0022: \u0022arg2\u0022,\r\n",
        "      \u0022type\u0022: \u0022string\u0022,\r\n",
        "      \u0022required\u0022: false\r\n",
        "    }\r\n",
        "  ],\r\n",
        "  \u0022$schema\u0022: \u0022http://schema.management.azure.com/schemas/2016-11-17/runcommands.json\u0022,\r\n",
        "  \u0022id\u0022: \u0022RunPowerShellScript\u0022,\r\n",
        "  \u0022osType\u0022: \u0022Windows\u0022,\r\n",
        "  \u0022label\u0022: \u0022Executes a PowerShell script\u0022,\r\n",
        "  \u0022description\u0022: \u0022Custom multiline PowerShell script should be defined in script property. Optional parameters can be set in parameters property.\u0022\r\n",
        "}"
      ]
    }
  ],
  "Variables": {
    "RandomSeed": "1145771762",
    "SUBSCRIPTION_ID": "c9cbd920-c00c-427c-852b-8aaf38badaeb"
  }
}